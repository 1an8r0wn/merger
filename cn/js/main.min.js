!function($){function adjustNavbar(){const navbarWidth=$(".navbar-main .navbar-start").outerWidth()+$(".navbar-main .navbar-end").outerWidth();$(document).outerWidth()<navbarWidth?$(".navbar-main .navbar-menu").addClass("is-flex-start"):$(".navbar-main .navbar-menu").removeClass("is-flex-start")}if($('.article img:not(".not-gallery-item")').each((function(){0===$(this).parent("a").length&&($(this).wrap('<a class="gallery-item" href="'+$(this).attr("src")+'"></a>'),this.alt&&$(this).after('<div class="has-text-centered is-size-6 has-text-grey caption">'+this.alt+"</div>"))})),"function"==typeof moment&&$(".article-meta time").each((function(){$(this).text(moment($(this).attr("datetime")).fromNow())})),$(".article > .content > table").each((function(){$(this).width()>$(this).parent().width()&&$(this).wrap('<div class="table-overflow"></div>')})),adjustNavbar(),$(window).resize(adjustNavbar),$("figure.highlight table").wrap('<div class="highlight-body">'),"undefined"!=typeof IcarusThemeSettings&&void 0!==IcarusThemeSettings.article&&void 0!==IcarusThemeSettings.article.highlight){"undefined"!=typeof ClipboardJS&&IcarusThemeSettings.article.highlight.clipboard&&($("figure.highlight").each((function(){var id="code-"+Date.now()+(1e3*Math.random()|0),button='<a href="javascript:;" class="copy" title="Copy" data-clipboard-target="#'+id+' .code"><i class="fas fa-copy"></i></a>';$(this).attr("id",id),$(this).find("figcaption").length?$(this).find("figcaption").prepend(button):$(this).prepend("<figcaption>"+button+"</figcaption>")})),new ClipboardJS(".highlight .copy"));var fold=IcarusThemeSettings.article.highlight.fold;if(fold.trim()){var button='<span class="fold">'+("unfolded"===fold?'<i class="fas fa-angle-down"></i>':'<i class="fas fa-angle-right"></i>')+"</span>";function toggleFold(codeBlock,isFolded){var $toggle=$(codeBlock).find(".fold i");isFolded?$(codeBlock).addClass("folded"):$(codeBlock).removeClass("folded"),isFolded?$toggle.removeClass("fa-angle-down"):$toggle.removeClass("fa-angle-right"),isFolded?$toggle.addClass("fa-angle-right"):$toggle.addClass("fa-angle-down")}$("figure.highlight").each((function(){$(this).find("figcaption").length?$(this).find("figcaption").prepend(button):$(this).prepend("<figcaption>"+button+"</figcaption>")})),$("figure.highlight").each((function(){toggleFold(this,"folded"===fold)})),$("figure.highlight figcaption .fold").click((function(){var $code=$(this).closest("figure.highlight");toggleFold($code.eq(0),!$code.hasClass("folded"))}))}}var $toc=$("#toc");if($toc.length>0){var $mask=$("<div>");function toggleToc(){$toc.toggleClass("is-active"),$mask.toggleClass("is-active")}$mask.attr("id","toc-mask"),$("body").append($mask),$toc.on("click",toggleToc),$mask.on("click",toggleToc),$(".navbar-main .catalogue").on("click",toggleToc)}}(jQuery);